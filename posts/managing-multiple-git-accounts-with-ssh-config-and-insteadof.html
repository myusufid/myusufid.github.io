<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Learn how to manage multiple GitLab and GitHub accounts on a single machine without conflicts using SSH configuration and Git's insteadOf feature.">
    <title>Managing Multiple Git Accounts with SSH Config and InsteadOf | M Yusuf - Backend Developer</title>

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/images/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/images/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/images/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="../assets/images/favicon_io/site.webmanifest">
    <link rel="shortcut icon" href="../assets/images/favicon_io/favicon.ico">

    <!-- SEO Meta Tags -->
    <meta name="description" content="Learn how to manage multiple GitLab and GitHub accounts on a single machine without conflicts using SSH configuration and Git's insteadOf feature.">
    <meta name="author" content="M Yusuf">
    <meta name="keywords" content="backend developer, software engineer, golang, python, docker, kubernetes, laravel">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Managing Multiple Git Accounts with SSH Config and InsteadOf | M Yusuf - Backend Developer">
    <meta property="og:description" content="Learn how to manage multiple GitLab and GitHub accounts on a single machine without conflicts using SSH configuration and Git's insteadOf feature.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://myusufid.github.io">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Managing Multiple Git Accounts with SSH Config and InsteadOf | M Yusuf - Backend Developer">
    <meta name="twitter:description" content="Learn how to manage multiple GitLab and GitHub accounts on a single machine without conflicts using SSH configuration and Git's insteadOf feature.">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link href="../styles.css" rel="stylesheet">
    <link href="../highlight-theme.css" rel="stylesheet">

   <!-- Add these in the head section -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" id="light-theme">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/monokai.min.css" id="dark-theme">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="https://unpkg.com/lunr/lunr.js"></script>


</head>
<body>
    <header class="py-4">
        <div class="container">
            <div class="d-flex flex-column flex-md-row align-items-center">
                <div class="brand me-3">
                    <a href="/" class="text-decoration-none">
                        <h1 class="h4 mb-0">M YUSUF</h1>
                        <p class="subtitle mb-0">Backend Developer</p>
                    </a>
                </div>
                <nav class="ms-md-auto mt-3 mt-md-0">
                    <div class="search-container">
                        <input type="text" id="searchInput" placeholder="Search posts..." aria-label="Search posts">
                        <div id="searchResults" class="search-results" aria-live="polite"></div>
                    </div>
                    <ul class="nav">
                        <li class="nav-item"><a href="/" class="nav-link">Blog</a></li>
                        <li class="nav-item"><a href="/tags.html" class="nav-link">Tags</a></li>
                        <li class="nav-item"><a href="/about.html" class="nav-link">About</a></li>
                        <li class="nav-item"><a href="/my_works.html" class="nav-link">My Works</a></li>
                        <li class="nav-item">
                            <button id="themeToggle" class="nav-link btn">
                                <i class="bi bi-sun-fill light-icon"></i>
                                <i class="bi bi-moon-fill dark-icon"></i>
                            </button>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main class="container py-5">
        
        <div class="featured-image-container mb-5">
            <img src="/assets/images/git-ssh-config.svg" alt="Managing Multiple Git Accounts with SSH Config and InsteadOf" class="featured-image">
            <div class="image-credit">Image source: Custom Illustration</div>
        </div>
        
        <article class="blog-post">
    <h1>Managing Multiple Git Accounts with SSH Config and InsteadOf</h1>
    <div class="meta mb-4">January 15, 2026</div>

    <div class="content">
        <p>As developers, we often find ourselves juggling multiple Git accountsâ€”perhaps a personal GitHub account for
            side projects and a professional GitLab account for work. Managing SSH keys for these different accounts can
            quickly become a headache if not handled correctly. In this post, targetting exactly that problem, I'll show
            you how to set up your system to seamlessly handle multiple accounts without constantly switching keys.</p>

        <h2>The Scenario</h2>
        <p>Imagine you have a personal account on GitHub and a work account on GitLab. You want to use different SSH
            keys for each to keep things isolated and secure. The challenge is that by default, Git (and SSH) will use
            the same default key for every connection to <code>github.com</code> or <code>gitlab.com</code>.</p>

        <h2>Step 1: Configure SSH (~/.ssh/config)</h2>
        <p>The first step is to tell SSH which key to use for which "host". We can create aliases in our
            <code>~/.ssh/config</code> file. Each alias can point to the same actual hostname (like
            <code>gitlab.com</code>) but use a different identity file.
        </p>

        <pre><code lang="plaintext">
# ~/.ssh/config

# Work GitLab Account
Host gitlab.com-work
    HostName gitlab.com
    IdentityFile ~/.ssh/id_rsa_work

# Personal GitHub Account
Host github.com-personal
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_rsa_personal

# Other server configurations...
Host myserver
    User ubuntu
    HostName 1.2.3.4
    IdentityFile ~/.ssh/id_rsa
    PreferredAuthentications publickey
    ForwardAgent yes
        </code></pre>

        <p>Here, we've created two aliases: <code>gitlab.com-work</code> and
            <code>github.com-personal</code>. When we connect to these aliases, SSH will actually connect to
            <code>gitlab.com</code> or <code>github.com</code> but use the specified <code>IdentityFile</code>.
        </p>

        <h2>Step 2: Automate with Git insteadOf</h2>
        <p>Using aliases is great, but it means you have to remember to use them every time you clone a repository or
            add a remote:</p>
        <pre><code lang="bash">git clone git@gitlab.com-work:username/repo.git</code></pre>

        <p>This is where Git's <code>insteadOf</code> feature comes in. You can configure Git to automatically replace
            standard URLs with your custom SSH aliases. Add the following to your <code>~/.gitconfig</code>:</p>

        <pre><code lang="ini">
# ~/.gitconfig

[url "git@gitlab.com-work:your-org/"]
    insteadOf = https://gitlab.com/your-org/

[url "git@github.com-personal:your-org/example-repo.git"]
    insteadOf = https://github.com/your-org/example-repo

[url "git@github.com-personal:your-org/another-repo.git"]
    insteadOf = https://github.com/your-org/another-repo
        </code></pre>

        <p>With this configuration, whenever you try to interact with a repository at
            <code>https://github.com/your-org/example-repo</code>, Git will automatically use
            <code>git@github.com-personal:your-org/example-repo.git</code>. This ensures the correct SSH key is
            used without any manual intervention!
        </p>

        <h2>Why This Works</h2>
        <ol>
            <li><strong>Isolation:</strong> Each account uses its own dedicated SSH key.</li>
            <li><strong>Security:</strong> If one key is compromised, the others remain safe.</li>
            <li><strong>Convenience:</strong> You can continue using standard HTTPS URLs in your documentation or
                scripts, and Git will handle the translation to the correct SSH host.</li>
            <li><strong>Flexibility:</strong> You can easily add more accounts or servers by adding new entries to your
                SSH and Git configs.</li>
        </ol>

        <h2>Conclusion</h2>
        <p>By combining SSH host aliases with Git's <code>insteadOf</code> mapping, you can create a robust and "set and
            forget" environment for managing multiple Git identities. No more "Permission denied" errors or accidentally
            pushing work code with your personal email!</p>

        <div class="tags mt-4">
            <span class="badge">#Git</span>
            <span class="badge">#SSH</span>
            <span class="badge">#GitLab</span>
            <span class="badge">#GitHub</span>
            <span class="badge">#DevOps</span>
            <span class="badge">#Productivity</span>
        </div>
    </div>
</article>
    </main>

    <footer class="footer py-4">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <div class="tech-stack">
                        <span class="badge">Go</span>
                        <span class="badge">Python</span>
                        <span class="badge">Docker</span>
                        <span class="badge">K8s</span>
                    </div>
                </div>
                <div class="col-md-6 text-md-end mt-3 mt-md-0">
                    <a href="https://github.com/myusufid" class="social-link"><i class="bi bi-github"></i></a>
                    <a href="https://www.linkedin.com/in/m-yusuf/" class="social-link ms-3"><i class="bi bi-linkedin"></i></a>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../script.js"></script>
</body>
</html>
